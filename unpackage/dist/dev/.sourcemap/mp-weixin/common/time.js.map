{"version":3,"file":"time.js","sources":["common/time.js"],"sourcesContent":["export default{\r\n\t// 计算当前日期星座\r\n\tgetHoroscope(date) {\r\n\t  let c = ['摩羯','水瓶','双鱼','白羊','金牛','双子','巨蟹','狮子','处女','天秤','天蝎','射手','摩羯']\r\n\t  date=new Date(date);\r\n\t  let month = date.getMonth() + 1;\r\n\t  let day = date.getDate();\r\n\t  let startMonth = month - (day - 14 < '865778999988'.charAt(month));\r\n\t  return c[startMonth]+'座';\r\n\t},\r\n\t// 计算指定时间与当前的时间差\r\n\tsumAge(data){\r\n\t\tlet dateBegin = new Date(data.replace(/-/g, \"/\"));\r\n\t\tlet dateEnd = new Date();//获取当前时间\r\n\t\tlet dateDiff = dateEnd.getTime() - dateBegin.getTime();//时间差的毫秒数\r\n\t\tlet dayDiff = Math.floor(dateDiff / (24 * 3600 * 1000));//计算出相差天数\r\n\t\tlet leave1=dateDiff%(24*3600*1000)    //计算天数后剩余的毫秒数\r\n\t\tlet hours=Math.floor(leave1/(3600*1000))//计算出小时数\r\n\t\t//计算相差分钟数\r\n\t\tlet leave2=leave1%(3600*1000)    //计算小时数后剩余的毫秒数\r\n\t\tlet minutes=Math.floor(leave2/(60*1000))//计算相差分钟数\r\n\t\t//计算相差秒数\r\n\t\tlet leave3=leave2%(60*1000)      //计算分钟数后剩余的毫秒数\r\n\t\tlet seconds=Math.round(leave3/1000)\r\n\t\treturn dayDiff+\"天 \"+hours+\"小时 \";\r\n\t},\r\n\t// 获取聊天时间（相差300s内的信息不会显示时间）\r\n\tgetChatTime(v1,v2){\r\n\t\tv1=v1.toString().length<13 ? v1*1000 : v1;\r\n\t\tv2=v2.toString().length<13 ? v2*1000 : v2;\r\n\t\tif(((parseInt(v1)-parseInt(v2))/1000) > 300){\r\n\t\t\treturn this.gettime(v1);\r\n\t\t}\r\n\t},\r\n\t// 人性化时间格式\r\n\tgettime(shorttime){\r\n\t\tshorttime=shorttime.toString().length<13 ? shorttime*1000 : shorttime;\r\n\t\tlet now = (new Date()).getTime();\r\n\t\tlet cha = (now-parseInt(shorttime))/1000;\r\n\t\t\r\n\t\tif (cha < 43200) {\r\n\t\t\t// 当天\r\n\t\t\treturn this.dateFormat(new Date(shorttime),\"{A} {t}:{ii}\");\r\n\t\t} else if(cha < 518400){\r\n\t\t\t// 隔天 显示日期+时间\r\n\t\t\treturn this.dateFormat(new Date(shorttime),\"{Mon}月{DD}日 {A} {t}:{ii}\");\r\n\t\t} else {\r\n\t\t\t// 隔年 显示完整日期+时间\r\n\t\t\treturn this.dateFormat(new Date(shorttime),\"{Y}-{MM}-{DD} {A} {t}:{ii}\");\r\n\t\t}\r\n\t},\r\n\t\r\n\tparseNumber(num) {\r\n\t\treturn num < 10 ? \"0\" + num : num;\r\n\t},\r\n\t \r\n\tdateFormat(date, formatStr) {\r\n\t\tlet dateObj = {},\r\n\t\t\trStr = /\\{([^}]+)\\}/,\r\n\t\t\tmons = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];\r\n\t\t \r\n\t\tdateObj[\"Y\"] = date.getFullYear();\r\n\t\tdateObj[\"M\"] = date.getMonth() + 1;\r\n\t\tdateObj[\"MM\"] = this.parseNumber(dateObj[\"M\"]);\r\n\t\tdateObj[\"Mon\"] = mons[dateObj['M'] - 1];\r\n\t\tdateObj[\"D\"] = date.getDate();\r\n\t\tdateObj[\"DD\"] = this.parseNumber(dateObj[\"D\"]);\r\n\t\tdateObj[\"h\"] = date.getHours();\r\n\t\tdateObj[\"hh\"] = this.parseNumber(dateObj[\"h\"]);\r\n\t\tdateObj[\"t\"] = dateObj[\"h\"] > 12 ? dateObj[\"h\"] - 12 : dateObj[\"h\"];\r\n\t\tdateObj[\"tt\"] = this.parseNumber(dateObj[\"t\"]);\r\n\t\tdateObj[\"A\"] = dateObj[\"h\"] > 12 ? '下午' : '上午';\r\n\t\tdateObj[\"i\"] = date.getMinutes();\r\n\t\tdateObj[\"ii\"] = this.parseNumber(dateObj[\"i\"]);\r\n\t\tdateObj[\"s\"] = date.getSeconds();\r\n\t\tdateObj[\"ss\"] = this.parseNumber(dateObj[\"s\"]);\r\n\t \r\n\t\twhile(rStr.test(formatStr)) {\r\n\t\t\tformatStr = formatStr.replace(rStr, dateObj[RegExp.$1]);\r\n\t\t}\r\n\t\treturn formatStr;\r\n\t},\r\n\t// 获取年龄\r\n\tgetAgeByBirthday(data){\r\n\t\tlet birthday=new Date(data.replace(/-/g, \"\\/\")); \r\n\t\tlet d=new Date(); \r\n\t\treturn d.getFullYear()-birthday.getFullYear()-((d.getMonth()<birthday.getMonth()|| d.getMonth()==birthday.getMonth() && d.getDate()<birthday.getDate())?1:0);\r\n\t}\r\n}"],"names":[],"mappings":"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"}