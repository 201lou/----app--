{"version":3,"file":"user-setting.js","sources":["pages/user-setting/user-setting.vue","../../AppGallery/HBuilderX.4.75.2025070414-alpha/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci1zZXR0aW5nL3VzZXItc2V0dGluZy52dWU"],"sourcesContent":["<template>\n\t<view>\n\t\t<uni-list>\r\n\t\t\t<template v-if=\"loginStatus\">\r\n\t\t\t\t<uni-list-item title=\"账号与安全\" @click=\"open('user-safe')\"></uni-list-item>\r\n\t\t\t\t<uni-list-item title=\"资料编辑\"  @click=\"open('user-ownerinfo')\"></uni-list-item>\r\n\t\t\t</template>\r\n\t\t\t<uni-list-item title=\"清除缓存\" @click=\"clear\">\r\n\t\t\t\t<text slot=\"right\">{{currentSize}}</text>\r\n\t\t\t</uni-list-item>\r\n\t\t\t<uni-list-item v-if=\"loginStatus\" title=\"意见反馈\" @click=\"open('user-feedback')\"></uni-list-item>\r\n\t\t\t<uni-list-item title=\"关于社区\" @click=\"open('about')\"></uni-list-item>\r\n\t\t\t\r\n\t\t\t<view class=\"py-2 px-3\" v-if=\"loginStatus\">\r\n\t\t\t\t<button class=\"bg-color text-white\" style=\"border-radius: 50rpx;border: 0;\"\r\n\t\t\t\ttype=\"primary\" @click=\"logout\">退出登录</button>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</uni-list>\n\t</view>\n</template>\n\n<script>\r\n\timport uniListItem from '@/components/uni-uni/uni-list-item/uni-list-item.vue';\r\n\timport uniList from '@/components/uni-uni/uni-list/uni-list.vue';\r\n\timport {mapState} from 'vuex'\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniList,\r\n\t\t\tuniListItem\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcurrentSize:0\n\t\t\t}\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.getStorageInfo()\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState({\r\n\t\t\t\tloginStatus:state=>state.loginStatus\r\n\t\t\t})\r\n\t\t},\n\t\tmethods: {\r\n\t\t\tgetStorageInfo(){\r\n\t\t\t\tlet res = uni.getStorageInfoSync()\r\n\t\t\t\tthis.currentSize = (res.currentSize / 1024).toFixed(2) + 'KB'\r\n\t\t\t},\n\t\t\topen(path) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:`/pages/${path}/${path}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 清除缓存\r\n\t\t\tclear(){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:'提示',\r\n\t\t\t\t\tcontent:'是否要清除缓存',\r\n\t\t\t\t\tcancelText:'不清除',\r\n\t\t\t\t\tconfirmText:'清除',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif(res.confirm){\r\n\t\t\t\t\t\t\tuni.clearStorageSync()\r\n\t\t\t\t\t\t\tthis.getStorageInfo()\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'清除成功',\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 退出登录\r\n\t\t\tlogout() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent:'是否要退出登录',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif(res.confirm) {\r\n\t\t\t\t\t\t\tthis.$store.commit('logout')\r\n\t\t\t\t\t\t\t// 关闭socket\r\n\t\t\t\t\t\t\tthis.$store.dispatch('closeSocket')\r\n\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\tdelta:1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'退出登录成功',\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n","import MiniProgramPage from 'F:/project/社区交友/pages/user-setting/user-setting.vue'\nwx.createPage(MiniProgramPage)"],"names":["mapState","uni"],"mappings":";;AAuBC,oBAAoB,MAAW;AAC/B,MAAK,UAAW,MAAW;AAE3B,MAAK,YAAU;AAAA,EACd,YAAY;AAAA,IACX;AAAA,IACA;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,aAAY;AAAA,IACb;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,eAAe;AAAA,EACpB;AAAA,EACD,UAAS;AAAA,IACR,GAAGA,uBAAS;AAAA,MACX,aAAY,WAAO,MAAM;AAAA,KACzB;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACR,iBAAgB;AACf,UAAI,MAAMC,cAAG,MAAC,mBAAmB;AACjC,WAAK,eAAe,IAAI,cAAc,MAAM,QAAQ,CAAC,IAAI;AAAA,IACzD;AAAA,IACD,KAAK,MAAM;AACVA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI,UAAU,IAAI,IAAI,IAAI;AAAA,OAC1B;AAAA,IACD;AAAA;AAAA,IAED,QAAO;AACNA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAM;AAAA,QACN,SAAQ;AAAA,QACR,YAAW;AAAA,QACX,aAAY;AAAA,QACZ,SAAS,SAAO;AACf,cAAG,IAAI,SAAQ;AACdA,0BAAAA,MAAI,iBAAiB;AACrB,iBAAK,eAAe;AACpBA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAM;AAAA,aACN;AAAA,UACF;AAAA,QACD;AAAA,OACA;AAAA,IACD;AAAA;AAAA,IAED,SAAS;AACRA,oBAAAA,MAAI,UAAU;AAAA,QACb,SAAQ;AAAA,QACR,SAAS,CAAC,QAAQ;AACjB,cAAG,IAAI,SAAS;AACf,iBAAK,OAAO,OAAO,QAAQ;AAE3B,iBAAK,OAAO,SAAS,aAAa;AAClCA,0BAAAA,MAAI,aAAa;AAAA,cAChB,OAAM;AAAA,aACN;AACDA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAM;AAAA,cACN,MAAK;AAAA,aACL;AAAA,UACF;AAAA,QACD;AAAA,OACA;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5FD,GAAG,WAAW,eAAe;"}