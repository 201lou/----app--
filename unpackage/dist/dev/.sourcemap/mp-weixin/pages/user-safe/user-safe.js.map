{"version":3,"file":"user-safe.js","sources":["pages/user-safe/user-safe.vue","../../AppGallery/HBuilderX.4.75.2025070414-alpha/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci1zYWZlL3VzZXItc2FmZS52dWU"],"sourcesContent":["<template>\n\t<view>\n\t\t<uni-list>\r\n\t\t\t<uni-list-item :title=\"item.name\" v-for=\"(item,index) in list\" :key=\"index\"\r\n\t\t\t@click=\"handleEvent(item)\">\r\n\t\t\t\t<template v-slot:right>\r\n\t\t\t\t\t<view class=\"flex align-center text-right text-light-muted\">\r\n\t\t\t\t\t\t{{item.data}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</uni-list-item>\r\n\t\t</uni-list>\n\t</view>\n</template>\n\n<script>\r\n\timport uniListItem from '@/components/uni-uni/uni-list-item/uni-list-item.vue';\r\n\timport uniList from '@/components/uni-uni/uni-list/uni-list.vue';\r\n\timport { mapState } from 'vuex'\r\n\t\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniList,\r\n\t\t\tuniListItem,\r\n\t\t\t\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tlist:[]\n\t\t\t}\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tuser:state=>state.user\r\n\t\t\t})\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.__init()\r\n\t\t},\n\t\tmethods: {\r\n\t\t\t__init() {\r\n\t\t\t\tlet list = [{\r\n\t\t\t\t\tname:\"手机号\",\r\n\t\t\t\t\tdata:this.user.phone ? this.user.phone : \"未绑定\",\r\n\t\t\t\t\ttype:\"navigateTo\",\r\n\t\t\t\t\turl:\"/pages/user-phone/user-phone\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"登录密码\",\r\n\t\t\t\t\tdata:this.user.password ? \"修改密码\" : \"未设置\",\r\n\t\t\t\t\ttype:\"navigateTo\",\r\n\t\t\t\t\turl:\"/pages/user-password/user-password\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"绑定邮箱\",\r\n\t\t\t\t\tdata:this.user.email ? this.user.email : \"未绑定\",\r\n\t\t\t\t\ttype:\"navigateTo\",\r\n\t\t\t\t\turl:\"/pages/user-email/user-email\"\r\n\t\t\t\t},]\r\n\t\t\t\tthis.list = [...list]\r\n\t\t\t\t\r\n\t\t\t\tthis.$H.get('/user/getuserbind',{},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.$store.commit('editUserInfo',{\r\n\t\t\t\t\t\tkey:\"user_bind\",\r\n\t\t\t\t\t\tvalue:res\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlet other = [{\r\n\t\t\t\t\t\t\tname:\"微信绑定\", \r\n\t\t\t\t\t\t\tdata:this.user.user_bind.data.data.weixin ? \r\n\t\t\t\t\t\t\tthis.user.user_bind.data.data.weixin.nickname : \"未绑定\",\r\n\t\t\t\t\t\t\ttype:\"bind\",\r\n\t\t\t\t\t\t\tprovider:\"weixin\"\r\n\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\tname:\"微博绑定\",\r\n\t\t\t\t\t\t\tdata:this.user.user_bind.data.data.sinaweibo ? \r\n\t\t\t\t\t\t\tthis.user.user_bind.data.data.sinaweibo.nickname : \"未绑定\",\r\n\t\t\t\t\t\t\ttype:\"bind\",\r\n\t\t\t\t\t\t\tprovider:\"sinaweibo\"\r\n\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\tname:\"qq绑定\",\r\n\t\t\t\t\t\t\tdata:this.user.user_bind.data.data.qq ? \r\n\t\t\t\t\t\t\tthis.user.user_bind.data.data.qq.nickname : \"未绑定\",\r\n\t\t\t\t\t\t\ttype:\"bind\",\r\n\t\t\t\t\t\t\tprovider:\"qq\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\tthis.list = [...this.list,...other]\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\thandleEvent(item) {\r\n\t\t\t\tif(item.type === '') return\r\n\t\t\t\tswitch (item.type){\r\n\t\t\t\t\tcase 'navigateTo':\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:item.url\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'bind':\r\n\t\t\t\t\tif(item.data !== '未绑定'){\r\n\t\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\ttitle: '你已经绑定过了',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.bind(item.provider)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 绑定第三方登录\r\n\t\t\tbind(provider) {\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider:provider,\r\n\t\t\t\t\tsuccess: (r) => {\r\n\t\t\t\t\t\tuni.getUserInfo({\r\n\t\t\t\t\t\t\tprovider:provider,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\t\t\tprovider:provider,\r\n\t\t\t\t\t\t\t\t\topenid:res.userInfo.openId,\r\n\t\t\t\t\t\t\t\t\tnickName:res.userInfo.nickName,\r\n\t\t\t\t\t\t\t\t\tavatarUrl:res.userInfo.avatarUrl\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.$H.post('user/bindother',obj,{\r\n\t\t\t\t\t\t\t\t\ttoken:true\r\n\t\t\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\t\t\tthis.__init()\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '绑定成功',\r\n\t\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n","import MiniProgramPage from 'F:/project/社区交友/pages/user-safe/user-safe.vue'\nwx.createPage(MiniProgramPage)"],"names":["mapState","uni","res"],"mappings":";;AAgBC,oBAAoB,MAAW;AAC/B,MAAK,UAAW,MAAW;AAG3B,MAAK,YAAU;AAAA,EACd,YAAY;AAAA,IACX;AAAA,IACA;AAAA,EAEA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,MAAK,CAAC;AAAA,IACP;AAAA,EACA;AAAA,EACD,UAAU;AAAA,IACT,GAAGA,uBAAS;AAAA,MACX,MAAK,WAAO,MAAM;AAAA,KAClB;AAAA,EACD;AAAA,EACD,SAAS;AACR,SAAK,OAAO;AAAA,EACZ;AAAA,EACD,SAAS;AAAA,IACR,SAAS;AACR,UAAI,OAAO,CAAC;AAAA,QACX,MAAK;AAAA,QACL,MAAK,KAAK,KAAK,QAAQ,KAAK,KAAK,QAAQ;AAAA,QACzC,MAAK;AAAA,QACL,KAAI;AAAA,MACL,GAAE;AAAA,QACD,MAAK;AAAA,QACL,MAAK,KAAK,KAAK,WAAW,SAAS;AAAA,QACnC,MAAK;AAAA,QACL,KAAI;AAAA,MACL,GAAE;AAAA,QACD,MAAK;AAAA,QACL,MAAK,KAAK,KAAK,QAAQ,KAAK,KAAK,QAAQ;AAAA,QACzC,MAAK;AAAA,QACL,KAAI;AAAA,MACL,CAAE;AACF,WAAK,OAAO,CAAC,GAAG,IAAI;AAEpB,WAAK,GAAG,IAAI,qBAAoB,CAAA,GAAG;AAAA,QAClC,OAAM;AAAA,OACN,EAAE,KAAK,SAAK;AACZ,aAAK,OAAO,OAAO,gBAAe;AAAA,UACjC,KAAI;AAAA,UACJ,OAAM;AAAA,SACN;AACD,YAAI,QAAQ,CAAC;AAAA,UACX,MAAK;AAAA,UACL,MAAK,KAAK,KAAK,UAAU,KAAK,KAAK,SACnC,KAAK,KAAK,UAAU,KAAK,KAAK,OAAO,WAAW;AAAA,UAChD,MAAK;AAAA,UACL,UAAS;AAAA,QACV,GAAE;AAAA,UACD,MAAK;AAAA,UACL,MAAK,KAAK,KAAK,UAAU,KAAK,KAAK,YACnC,KAAK,KAAK,UAAU,KAAK,KAAK,UAAU,WAAW;AAAA,UACnD,MAAK;AAAA,UACL,UAAS;AAAA,QACV,GAAE;AAAA,UACD,MAAK;AAAA,UACL,MAAK,KAAK,KAAK,UAAU,KAAK,KAAK,KACnC,KAAK,KAAK,UAAU,KAAK,KAAK,GAAG,WAAW;AAAA,UAC5C,MAAK;AAAA,UACL,UAAS;AAAA,SACT;AACF,aAAK,OAAO,CAAC,GAAG,KAAK,MAAK,GAAG,KAAK;AAAA,OAClC;AAAA,IACD;AAAA,IACD,YAAY,MAAM;AACjB,UAAG,KAAK,SAAS;AAAI;AACrB,cAAQ,KAAK,MAAI;AAAA,QAChB,KAAK;AACLC,wBAAAA,MAAI,WAAW;AAAA,YACd,KAAI,KAAK;AAAA,WACT;AACA;AAAA,QACD,KAAK;AACL,cAAG,KAAK,SAAS,OAAM;AACtB,mBAAOA,cAAAA,MAAI,UAAU;AAAA,cACpB,OAAO;AAAA,cACP,MAAK;AAAA,YACN,CAAC;AAAA,UACF;AACA,eAAK,KAAK,KAAK,QAAQ;AACtB;AAAA,MACF;AAAA,IACA;AAAA;AAAA,IAGD,KAAK,UAAU;AACdA,oBAAAA,MAAI,MAAM;AAAA,QACT;AAAA,QACA,SAAS,CAAC,MAAM;AACfA,wBAAAA,MAAI,YAAY;AAAA,YACf;AAAA,YACA,SAAS,CAAC,QAAQ;AACjB,kBAAI,MAAM;AAAA,gBACT;AAAA,gBACA,QAAO,IAAI,SAAS;AAAA,gBACpB,UAAS,IAAI,SAAS;AAAA,gBACtB,WAAU,IAAI,SAAS;AAAA,cACxB;AACA,mBAAK,GAAG,KAAK,kBAAiB,KAAI;AAAA,gBACjC,OAAM;AAAA,eACN,EAAE,KAAK,CAAAC,SAAK;AACZ,qBAAK,OAAO;AACZD,8BAAAA,MAAI,UAAU;AAAA,kBACb,OAAO;AAAA,kBACP,MAAK;AAAA,gBACN,CAAC;AAAA,eACD;AAAA,YACF;AAAA,WACA;AAAA,QACF;AAAA,OACA;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;ACxID,GAAG,WAAW,eAAe;"}