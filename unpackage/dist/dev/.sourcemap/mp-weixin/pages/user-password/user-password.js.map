{"version":3,"file":"user-password.js","sources":["pages/user-password/user-password.vue","../../AppGallery/HBuilderX.4.75.2025070414-alpha/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci1wYXNzd29yZC91c2VyLXBhc3N3b3JkLnZ1ZQ"],"sourcesContent":["<template>\n\t<view>\n\t\t<input v-if=\"user.password\" class=\"uni-input\" type=\"text\" placeholder=\"输入旧密码\" v-model=\"oldpassword\"/>\r\n\t\t<input class=\"uni-input\" ype=\"text\" placeholder=\"输入新密码\" v-model=\"newpassword\"/>\r\n\t\t<input class=\"uni-input\" type=\"text\" placeholder=\"确认新密码\"v-model=\"renewpassword\"/>\r\n\t\t<view class=\"py-2 px-3\">\r\n\t\t\t<button class=\"bg-color text-white\" style=\"border-radius: 50rpx;border: 0;\"\r\n\t\t\ttype=\"primary\" :disabled=\"disabled\" :class=\"disabled ? 'bg-color-disabled' : ''\"\r\n\t\t\t@click=\"submit\">设置</button>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport { mapState } from 'vuex';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\toldpassword:\"\",\r\n\t\t\t\tnewpassword:\"\",\r\n\t\t\t\trenewpassword:\"\"\n\t\t\t}\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState({\r\n\t\t\t\tuser:state=>state.user\r\n\t\t\t}),\r\n\t\t\tdisabled() {\r\n\t\t\t\tif (this.user.password) {\r\n\t\t\t\t\treturn this.oldpassword == '' || this.newpassword == '' || this.renewpassword == ''\r\n\t\t\t\t}\r\n\t\t\t\treturn this.newpassword == '' || this.renewpassword == ''\r\n\t\t\t}\r\n\t\t},\n\t\tmethods: {\r\n\t\t\t// 验证密码\n\t\t\tcheck() {\r\n\t\t\t\tif(this.newpassword !== this.renewpassword) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'两次密码不一样',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturn true\r\n\t\t\t},\r\n\t\t\tsubmit() {\r\n\t\t\t\tif(!this.check()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$H.post('/repassword',{\r\n\t\t\t\t\toldpassword:this.oldpassword,\r\n\t\t\t\t\tnewpassword:this.newpassword,\r\n\t\t\t\t\trenewpassword:this.renewpassword\r\n\t\t\t\t},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.$store.commit('editUserInfo',{\r\n\t\t\t\t\t\tkey:'password',\r\n\t\t\t\t\t\tvalue:true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\tdelta:1\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'修改密码成功',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n","import MiniProgramPage from 'F:/project/社区交友/pages/user-password/user-password.vue'\nwx.createPage(MiniProgramPage)"],"names":["mapState","uni"],"mappings":";;AAeC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,aAAY;AAAA,MACZ,aAAY;AAAA,MACZ,eAAc;AAAA,IACf;AAAA,EACA;AAAA,EACD,UAAS;AAAA,IACR,GAAGA,uBAAS;AAAA,MACX,MAAK,WAAO,MAAM;AAAA,IACnB,CAAC;AAAA,IACD,WAAW;AACV,UAAI,KAAK,KAAK,UAAU;AACvB,eAAO,KAAK,eAAe,MAAM,KAAK,eAAe,MAAM,KAAK,iBAAiB;AAAA,MAClF;AACA,aAAO,KAAK,eAAe,MAAM,KAAK,iBAAiB;AAAA,IACxD;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,QAAQ;AACP,UAAG,KAAK,gBAAgB,KAAK,eAAe;AAC3CC,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAM;AAAA,UACN,MAAK;AAAA,QACN,CAAC;AACD;AAAA,MACD;AACA,aAAO;AAAA,IACP;AAAA,IACD,SAAS;AACR,UAAG,CAAC,KAAK,SAAS;AACjB;AAAA,MACD;AACA,WAAK,GAAG,KAAK,eAAc;AAAA,QAC1B,aAAY,KAAK;AAAA,QACjB,aAAY,KAAK;AAAA,QACjB,eAAc,KAAK;AAAA,MACpB,GAAE;AAAA,QACD,OAAM;AAAA,OACN,EAAE,KAAK,SAAK;AACZ,aAAK,OAAO,OAAO,gBAAe;AAAA,UACjC,KAAI;AAAA,UACJ,OAAM;AAAA,SACN;AACDA,sBAAAA,MAAI,aAAa;AAAA,UAChB,OAAM;AAAA,SACN;AACDA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAM;AAAA,UACN,MAAK;AAAA,SACL;AAAA,OACD;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;ACtED,GAAG,WAAW,eAAe;"}