{"version":3,"file":"user-email.js","sources":["pages/user-email/user-email.vue","../../AppGallery/HBuilderX.4.75.2025070414-alpha/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci1lbWFpbC91c2VyLWVtYWlsLnZ1ZQ"],"sourcesContent":["<template>\n\t<view>\n\t\t<input class=\"uni-input\" type=\"text\" placeholder=\"请输入你想要绑定的邮箱\" \r\n\t\tv-model=\"email\" :disabled=\"this.user.email\" />\r\n\t\t<view class=\"py-2 px-3\">\r\n\t\t\t<button class=\"bg-color text-white\" style=\"border-radius: 50rpx;border: 0;\"\r\n\t\t\ttype=\"primary\" :disabled=\"disabled || this.user.email\" :class=\"disabled ? 'bg-color-disabled' : ''\"\r\n\t\t\t@click=\"submit\">绑定</button>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport { mapState } from 'vuex';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\temail:\"\"\n\t\t\t}\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState({\r\n\t\t\t\tuser:state=>state.user\r\n\t\t\t}),\r\n\t\t\tdisabled() {\r\n\t\t\t\treturn this.email === ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tif (this.user.email) {\r\n\t\t\t\tthis.email = this.user.email\r\n\t\t\t}\r\n\t\t},\n\t\tmethods: {\n\t\t\t// 验证密码\r\n\t\t\tcheck() {\r\n\t\t\t\tlet rule = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\t\t\t\t\r\n\t\t\t\tif(!rule.test(this.email)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'邮箱格式不正确',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true\r\n\t\t\t},\r\n\t\t\tsubmit() {\r\n\t\t\t\tif(!this.check()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$H.post('/user/bindemail',{\r\n\t\t\t\t\temail:this.email\r\n\t\t\t\t},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.$store.commit('editUserInfo',{\r\n\t\t\t\t\t\tkey:'email',\r\n\t\t\t\t\t\tvalue:this.email\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\tdelta:1\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'修改邮箱成功',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n","import MiniProgramPage from 'F:/project/社区交友/pages/user-email/user-email.vue'\nwx.createPage(MiniProgramPage)"],"names":["mapState","uni"],"mappings":";;AAcC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,OAAM;AAAA,IACP;AAAA,EACA;AAAA,EACD,UAAS;AAAA,IACR,GAAGA,uBAAS;AAAA,MACX,MAAK,WAAO,MAAM;AAAA,IACnB,CAAC;AAAA,IACD,WAAW;AACV,aAAO,KAAK,UAAU;AAAA,IACvB;AAAA,EACA;AAAA,EACD,SAAS;AACR,QAAI,KAAK,KAAK,OAAO;AACpB,WAAK,QAAQ,KAAK,KAAK;AAAA,IACxB;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,QAAQ;AACP,UAAI,OAAO;AACX,UAAG,CAAC,KAAK,KAAK,KAAK,KAAK,GAAG;AAC1BC,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAM;AAAA,UACN,MAAK;AAAA,SACL;AACD,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACP;AAAA,IACD,SAAS;AACR,UAAG,CAAC,KAAK,SAAS;AACjB;AAAA,MACD;AACA,WAAK,GAAG,KAAK,mBAAkB;AAAA,QAC9B,OAAM,KAAK;AAAA,MACZ,GAAE;AAAA,QACD,OAAM;AAAA,OACN,EAAE,KAAK,SAAK;AACZ,aAAK,OAAO,OAAO,gBAAe;AAAA,UACjC,KAAI;AAAA,UACJ,OAAM,KAAK;AAAA,SACX;AACDA,sBAAAA,MAAI,aAAa;AAAA,UAChB,OAAM;AAAA,SACN;AACDA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAM;AAAA,UACN,MAAK;AAAA,SACL;AAAA,OACD;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;ACpED,GAAG,WAAW,eAAe;"}