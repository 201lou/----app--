{"version":3,"file":"owner.js","sources":["pages/owner/owner.vue","../../AppGallery/HBuilderX.4.75.2025070414-alpha/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvb3duZXIvb3duZXIudnVl"],"sourcesContent":["<template>\n\t<view>\r\n\t\t<!-- 未登录 -->\r\n\t\t<template v-if=\"!loginStatus\">\r\n\t\t\t<view class=\"flex align-center justify-center py-2 font\">\r\n\t\t\t\t登录社区，体验更多功能\r\n\t\t\t</view>\r\n\t\t\t<other-login></other-login>\r\n\t\t\t<view class=\"flex align-center justify-center py-2 font text-secondary\" \r\n\t\t\t@click=\"openLogin\">\r\n\t\t\t\t账号/邮箱/手机登录<text class=\"ml-2 iconfont icon-xiangyou1\"></text>\r\n\t\t\t</view>\r\n\t\t</template>\n\t\t<!-- 已登录 -->\r\n\t\t<view v-else class=\"flex align-center p-2\" hover-class=\"bg-light\">\r\n\t\t\t<image :src=\"avatar\" style=\"width: 100rpx;height: 100rpx;\" \r\n\t\t\tclass=\"rounded-circle\"></image>\r\n\t\t\t<view class=\"flex flex-column flex-1 px-2\">\r\n\t\t\t\t<text class=\"font-lg font-weight-bold\">{{user.username}}</text>\r\n\t\t\t\t<text class=\"font text-muted\">总帖子{{myData[0].num}} 今日发帖{{myData[1].num}}</text>\r\n\t\t\t</view>\r\n\t\t\t<text class=\"iconfont icon-xiangyou1\"></text>\r\n\t\t</view>\t\t\r\n\t\t\r\n\t\t<view class=\"flex align-center px-3 py-2\">\r\n\t\t\t<block v-for=\"(item,index) in myData\" :key=\"index\">\r\n\t\t\t\t<view class=\"flex-1 flex-column flex align-center justify-center\">\r\n\t\t\t\t\t<text class=\"font-lg font-weight-bold\">{{item.num}}</text>\r\n\t\t\t\t\t<text class=\"font text-muted\">{{item.name}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"px-3 py-2\">\r\n\t\t\t<image src=\"/static/common/banner2.jpg\" mode=\"aspectFill\" style=\"height: 170rpx;\"\r\n\t\t\tclass=\"rounded w-100\"></image>\r\n\t\t</view>\r\n\t\t\r\n\t\t<uni-list>\r\n\t\t\t<uni-list-item title=\"浏览历史\" showExtraIcon @click=\"openHistory\">\r\n\t\t\t\t<template v-slot:icon>\r\n\t\t            <text class=\"iconfont icon-icon-\"></text>\r\n\t\t\t\t</template>\r\n\t\t\t</uni-list-item>\r\n\t\t\t<uni-list-item title=\"社区认证\" showExtraIcon>\r\n\t\t\t\t<template v-slot:icon>\r\n\t\t\t        <text class=\"iconfont icon-huiyuan\"></text>\r\n\t\t\t\t</template>\r\n\t\t\t</uni-list-item>\r\n\t\t\t<uni-list-item title=\"审核帖子\" showExtraIcon>\r\n\t\t\t\t<template v-slot:icon>\r\n\t\t\t        <text class=\"iconfont icon-xiugai\"></text>\r\n\t\t\t\t</template>\r\n\t\t\t</uni-list-item>\r\n\t\t\t\r\n\t\t</uni-list>\r\n\t\t<!-- #ifdef MP -->\r\n\t\t<navigator url=\"../user-setting/user-setting\" hover-class=\"none\">\r\n\t\t<uni-list-item title=\"我的设置\" showExtraIcon>\r\n\t\t\t<text slot=\"icon\" class=\"iconfont icon-wode\"></text>\r\n\t\t</uni-list-item>\r\n\t\t</navigator>\r\n\t\t<!-- #endif -->\r\n\t\t\n\t</view>\n</template>\n\n<script>\r\n\timport uniListItem from '@/components/uni-uni/uni-list-item/uni-list-item.vue';\r\n\timport uniList from '@/components/uni-uni/uni-list/uni-list.vue';\r\n\timport otherLogin from '@/components/common/other-login.vue';\r\n\timport { mapState } from 'vuex'\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tuniListItem,\r\n\t\t\tuniList,\r\n\t\t\totherLogin\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmyData:[{\r\n\t\t\t\t\tname:\"帖子\",\r\n\t\t\t\t\tnum:0\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"动态\",\r\n\t\t\t\t\tnum:0\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"关注\",\r\n\t\t\t\t\tnum:0\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"粉丝\",\r\n\t\t\t\t\tnum:0\r\n\t\t\t\t}]\n\t\t\t}\n\t\t},\r\n\t\tonNavigationBarButtonTap() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl:'/pages/user-setting/user-setting'\r\n\t\t\t})\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tloginStatus:state=>state.loginStatus,\r\n\t\t\t\tuser:state=>state.user\r\n\t\t\t}),\r\n\t\t\t// 用户头像\r\n\t\t\tavatar(){\r\n\t\t\t\treturn (this.user.userpic && this.user) ? this.user.userpic : '/static/common/demo6.jpg'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// console.log(this.loginStatus);\r\n\t\t\t// console.log(this.user)\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif(this.loginStatus){\r\n\t\t\t\tthis.getCounts()\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tloginStatus(newValue,oldValue) {\r\n\t\t\t\tif(newValue){\r\n\t\t\t\t\tthis.getCounts()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.myData.forEach(item=>{\r\n\t\t\t\t\t\titem.num = 0\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\n\t\tmethods: {\r\n\t\t\t// 获取用户相关统计数据\r\n\t\t\tgetCounts(){\r\n\t\t\t\tthis.$H.get('/user/getcounts/'+this.user.id,{},{\r\n\t\t\t\t\ttoken:true,\r\n\t\t\t\t\tnotoast:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.myData[0].num = res.data.data.post_count\r\n\t\t\t\t\tthis.myData[1].num = res.data.data.today_posts_count\r\n\t\t\t\t\tthis.myData[2].num = res.data.data.withfollow_count\r\n\t\t\t\t\tthis.myData[3].num = res.data.data.withfen_count\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\t// 打开登录页\r\n\t\t\topenLogin(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/login/login',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\topenHistory(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/history/history'\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n","import MiniProgramPage from 'F:/project/社区交友/pages/owner/owner.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","mapState"],"mappings":";;;AAoEC,oBAAoB,MAAW;AAC/B,MAAK,UAAW,MAAW;AAC3B,MAAK,aAAc,MAAW;AAE9B,MAAK,YAAU;AAAA,EACd,YAAW;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,QAAO,CAAC;AAAA,QACP,MAAK;AAAA,QACL,KAAI;AAAA,MACL,GAAE;AAAA,QACD,MAAK;AAAA,QACL,KAAI;AAAA,MACL,GAAE;AAAA,QACD,MAAK;AAAA,QACL,KAAI;AAAA,MACL,GAAE;AAAA,QACD,MAAK;AAAA,QACL,KAAI;AAAA,OACJ;AAAA,IACF;AAAA,EACA;AAAA,EACD,2BAA2B;AAC1BA,kBAAAA,MAAI,WAAW;AAAA,MACd,KAAI;AAAA,KACJ;AAAA,EACD;AAAA,EACD,UAAU;AAAA,IACT,GAAGC,uBAAS;AAAA,MACX,aAAY,WAAO,MAAM;AAAA,MACzB,MAAK,WAAO,MAAM;AAAA,IACnB,CAAC;AAAA;AAAA,IAED,SAAQ;AACP,aAAQ,KAAK,KAAK,WAAW,KAAK,OAAQ,KAAK,KAAK,UAAU;AAAA,IAC/D;AAAA,EACA;AAAA,EACD,UAAU;AAAA,EAGT;AAAA,EACD,SAAS;AACR,QAAG,KAAK,aAAY;AACnB,WAAK,UAAU;AAAA,IAChB;AAAA,EACA;AAAA,EACD,OAAM;AAAA,IACL,YAAY,UAAS,UAAU;AAC9B,UAAG,UAAS;AACX,aAAK,UAAU;AAAA,aACT;AACN,aAAK,OAAO,QAAQ,UAAM;AACzB,eAAK,MAAM;AAAA,SACX;AAAA,MACF;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,YAAW;AACV,WAAK,GAAG,IAAI,qBAAmB,KAAK,KAAK,IAAG,IAAG;AAAA,QAC9C,OAAM;AAAA,QACN,SAAQ;AAAA,OACR,EAAE,KAAK,SAAK;AACZ,aAAK,OAAO,CAAC,EAAE,MAAM,IAAI,KAAK,KAAK;AACnC,aAAK,OAAO,CAAC,EAAE,MAAM,IAAI,KAAK,KAAK;AACnC,aAAK,OAAO,CAAC,EAAE,MAAM,IAAI,KAAK,KAAK;AACnC,aAAK,OAAO,CAAC,EAAE,MAAM,IAAI,KAAK,KAAK;AAAA,OACnC;AAAA,IACD;AAAA;AAAA,IAED,YAAW;AACVD,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA,IACD,cAAa;AACZA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI;AAAA,OACJ;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1JD,GAAG,WAAW,eAAe;"}